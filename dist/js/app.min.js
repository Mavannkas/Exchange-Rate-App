"use strict";var currency1,currency2,date,hour,show,hide,checkValues,loader=document.querySelector(".loader"),themeCircle=document.querySelector(".circle"),themeBtn=document.querySelector(".nav__options--toggle-theme-btn"),timer=document.querySelector(".timer"),inputOne=document.querySelector("#input-money"),inputResult=document.querySelector("#input-result"),currencyChoiceOne=document.querySelector("#selectOne"),currencyChoiceTwo=document.querySelector("#selectTwo"),swapBtn=document.querySelector(".swap-btn"),swapArrow=document.querySelector(".swap-arrow"),saveBtn=document.querySelector(".save-btn"),result=document.querySelector(".result"),errorMsg=document.querySelector(".container__error-msg"),historyArea=document.querySelector(".history-container__notes-area"),emptyError=document.querySelector(".empty-error"),clearHistoryBtn=document.querySelector(".history-container__clear-all-btn"),cardID=0,cardAmount=0,main=function(){events(),calculate()},events=function(){loaderLoading(),dateCalculating(),saveBtn.addEventListener("click",function(){""===inputOne.value||"0"===inputOne.value?(anime({targets:".container__error-msg",duration:60,translateX:[{value:60,duration:60},{value:-30,duration:60},{value:0,duration:60}]}),errorMsg.style.display="flex",errorMsg.style.opacity="1"):(errorMsg.style.display="none",errorMsg.style.opacity="0",createElement())}),inputOne.addEventListener("input",calculate),swapBtn.addEventListener("click",function(){swap(),swapArrow.classList.toggle("icon-rotate")}),currencyChoiceOne.addEventListener("change",function(){calculate(),checkIfTheSame(),checkValues()}),currencyChoiceTwo.addEventListener("change",function(){calculate(),checkIfTheSame(),checkValues()}),themeBtn.addEventListener("click",function(){themeCircle.classList.contains("dark-mode-transform")?themeCircle.classList.remove("dark-mode-transform"):themeCircle.classList.add("dark-mode-transform"),"light"!==document.body.getAttribute("data-theme")?document.body.setAttribute("data-theme","light"):document.body.setAttribute("data-theme","dark")}),clearHistoryBtn.addEventListener("click",function(){historyArea.textContent="",cardAmount=cardID=0,emptyChecker(),showClearBtn()})},calculate=function(){fetch("https://api.exchangerate.host/latest?base=".concat(currencyChoiceOne.value,"&symbols=").concat(currencyChoiceTwo.value)).then(function(e){return e.json()}).then(function(e){currency1=currencyChoiceOne.value,currency2=currencyChoiceTwo.value;e=e.rates[currency2];inputResult.value=(inputOne.value*e).toFixed(2)})},createElement=function(){var e=document.createElement("div");e.classList.add("history-container__notes-area--note"),historyArea.appendChild(e),e.setAttribute("id",cardID),e.innerHTML='\n    <button class="delete-note-btn" onclick="deleteElement('.concat(cardID,')">\n    <i class="uil uil-times"></i>\n    </button>\n    <div class="date-box">\n    <p class="title">Date</p>\n    <p class="nav__title-box--timer timer">').concat(date,'</p>\n    <p class="timerHours">at ').concat(hour,'</p>\n    </div>\n    <p class="result">').concat(inputOne.value," ").concat(currency1," = ").concat(inputResult.value," ").concat(currency2,"</p>\n    "),cardID++,cardAmount++,emptyChecker(),showClearBtn()},deleteElement=function(e){e=document.getElementById(e);historyArea.removeChild(e),0!==cardAmount&&(cardAmount--,cardID--),emptyChecker(),showClearBtn()},emptyChecker=function(){emptyError.style.display=0!==cardAmount?"none":"flex"},loaderLoading=function(){window.addEventListener("load",function(){setTimeout(function(){loader.style.display="none"},1e3)})},swap=function(){var e=currencyChoiceOne.value;currencyChoiceOne.value=currencyChoiceTwo.value,currencyChoiceTwo.value=e,calculate()},dateCalculating=function(){var e=new Date;date=e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear(),hour=e.getHours()+":"+e.getMinutes(),timer.textContent=date},checkIfTheSame=function(){show=function(){saveBtn.style.pointerEvents="all",saveBtn.style.opacity="1",swapBtn.style.pointerEvents="all",swapBtn.style.opacity="1"},hide=function(){saveBtn.style.pointerEvents="none",saveBtn.style.opacity="0.5",swapBtn.style.pointerEvents="none",swapBtn.style.opacity="0.5"},(currencyChoiceOne.value===currencyChoiceTwo.value?hide:show)()},showClearBtn=function(){0!==cardAmount?(clearHistoryBtn.style.visibility="visible",clearHistoryBtn.style.opacity="1"):(clearHistoryBtn.style.visibility="hidden",clearHistoryBtn.style.opacity="0")};ScrollReveal({reset:!1,distance:"180px",duration:1500}),ScrollReveal().reveal(".scroll-box1",{delay:1100,origin:"left"}),ScrollReveal().reveal(".nav__title-box--line",{delay:1300,origin:"left"}),ScrollReveal().reveal(".scroll-box2",{delay:1600,origin:"left"}),ScrollReveal().reveal(".nav__options",{delay:1700,origin:"left"}),ScrollReveal().reveal(".container",{delay:1800,origin:"left"}),ScrollReveal().reveal(".history-container",{delay:2e3,origin:"left"}),document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJkYXRlIiwiaG91ciIsInNob3ciLCJoaWRlIiwibWFpbiIsImV2ZW50cyIsImxvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRoZW1lQ2lyY2xlIiwidGltZXIiLCJpbnB1dE9uZSIsImlucHV0UmVzdWx0IiwiY3VycmVuY3lDaG9pY2VPbmUiLCJzd2FwQnRuIiwic3dhcEFycm93Iiwic2F2ZUJ0biIsInJlc3VsdCIsImVycm9yTXNnIiwiZW1wdHlFcnJvciIsImNsZWFySGlzdG9yeUJ0biIsImNhcmRJRCIsImN1cnJlbmN5MSIsImN1cnJlbmN5MiIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2FkZXJMb2FkaW5nIiwiYW5pbWUiLCJ0YXJnZXRzIiwiZHVyYXRpb24iLCJ2YWx1ZSIsInRyYW5zbGF0ZVgiLCJzdHlsZSIsImRpc3BsYXkiLCJvcGFjaXR5IiwiY2FsY3VsYXRlIiwidG9nZ2xlIiwiY2xhc3NMaXN0IiwiY2hlY2tWYWx1ZXMiLCJjdXJyZW5jeUNob2ljZVR3byIsInRoZW1lQnRuIiwiY29udGFpbnMiLCJyZW1vdmUiLCJib2R5IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaGlzdG9yeUFyZWEiLCJ0ZXh0Q29udGVudCIsImNhcmRBbW91bnQiLCJlbXB0eUNoZWNrZXIiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJyYXRlIiwidG9GaXhlZCIsImNyZWF0ZUVsZW1lbnQiLCJoaXN0b3J5Tm90ZSIsImFkZCIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaG93Q2xlYXJCdG4iLCJkZWxldGVFbGVtZW50IiwiaWQiLCJuZXdFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJzZXRUaW1lb3V0Iiwib2xkVmFsdWUiLCJzd2FwIiwidG9kYXkiLCJjaGVja0lmVGhlU2FtZSIsInBvaW50ZXJFdmVudHMiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInZpc2liaWxpdHkiLCJTY3JvbGxSZXZlYWwiLCJkaXN0YW5jZSIsImRlbGF5Iiwib3JpZ2luIiwicmV2ZWFsIl0sIm1hcHBpbmdzIjoiYUFBQSxJQXdCSUEsVUFDQUMsVUFFQUMsS0FDQUMsS0FEQUQsS0FJRUUsS0FDRkMsWUFoQ0VDLE9BQVNDLFNBQVNDLGNBQWMsV0FDaENDLFlBQWNGLFNBQVNDLGNBQWMsV0FEckNGLFNBQVNDLFNBQVNDLGNBQWMsbUNBQ2hDQyxNQUFBQSxTQUFjRixjQUFTQyxVQUV2QkUsU0FBUUgsU0FBU0MsY0FBYyxnQkFFL0JHLFlBQVdKLFNBQVNDLGNBQWMsaUJBQ2xDSSxrQkFBc0JMLFNBQUNDLGNBQWMsY0FDckNLLGtCQUFvQk4sU0FBU0MsY0FBYyxjQUczQ00sUUFBVVAsU0FBU0MsY0FBYyxhQUNqQ08sVUFBWVIsU0FBU0MsY0FBYyxlQUNuQ1EsUUFBVVQsU0FBU0MsY0FBYyxhQUNqQ1MsT0FBU1YsU0FBU0MsY0FBYyxXQUNoQ1UsU0FBV1gsU0FBU0MsY0FBYyx5QkFHbENXLFlBQWFaLFNBQVNDLGNBQWMsa0NBQ3BDWSxXQUFlYixTQUFHQSxjQUFTQyxnQkFFN0JhLGdCQUFKZCxTQUFBQyxjQUFBLHFDQUVJYyxPQUFKLEVBQ0lDLFdBQUosRUFRQW5CLEtBQUEsV0FDSUMsU0FJRUEsYUFHRlcsT0FBUVEsV0FDSkMsZ0JBQ0lDLGtCQUNJQyxRQUFBQSxpQkFBUyxRQUFBLFdBRFAsS0FFRkMsU0FGRUMsT0FBQSxNQUFBbEIsU0FBQWtCLE9BR0ZDLE1BQVUsQ0FDQ0gsUUFBUCx3QkFBYUMsU0FBVSxHQUN2QkUsV0FBQSxDQUFBLENBQUFELE1BQUEsR0FBQUQsU0FBQSxJQUF3QixDQUFBQyxPQUFBLEdBQUFELFNBQUEsSUFDeEIsQ0FBQUMsTUFBQSxFQUFBRCxTQUFBLE9BSFFWLFNBQUFhLE1BQUFDLFFBQUEsT0FIaEJkLFNBQUFhLE1BQUFFLFFBQUEsTUFVQWYsU0FBZWUsTUFBQUEsUUFBZixPQUNHZixTQUFBYSxNQUFBRSxR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VCxLQUVBQSxTQUxGeUMsYUFBZSxXQVdSLElBQWJpQixZQUNTMUQsZ0JBRElXLE1BQUE4QyxXQUFBLFVBRVRFLGdCQUZTaEQsTUFBQUUsUUFBQSxNQUFiYixnQkFBQVcsTUFBQThDLFdBQUEsU0FNQUMsZ0JBQXNCL0MsTUFBQUUsUUFBZ0IsTUFDVytDLGFBQUYsQ0FBZUMsT0FBUSxFQUF0RUYsU0FBQSxRQUNBRCxTQUFZLE9BQTBCQSxlQUF0Q0ksT0FBQSxlQUFBLENBQUFGLE1BQUEsS0FBQUMsT0FBQSxTQUNBSCxlQUFlSSxPQUFPLHdCQUFpQixDQUFBRixNQUFBLEtBQUFDLE9BQUEsU0FBRUQsZUFBRkUsT0FBQSxlQUFBLENBQUFGLE1BQUEsS0FBQUMsT0FBQSxTQUFlQSxlQUFRQyxPQUFBLGdCQUFBLENBQUFGLE1BQUEsS0FBQUMsT0FBQSxTQUF2QkgsZUFBdkNJLE9BQUEsYUFBQSxDQUFBRixNQUFBLEtBQUFDLE9BQUEsU0FDQUgsZUFBZUksT0FBTyxxQkFBYyxDQUFBRixNQUFBLElBQUFDLE9BQUEsU0FBZUEsU0FBTXpELGlCQUFFLG1CQUFBcEIiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXInKTtcclxuY29uc3QgdGhlbWVDaXJjbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2lyY2xlJylcclxuY29uc3QgdGhlbWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19vcHRpb25zLS10b2dnbGUtdGhlbWUtYnRuJylcclxuY29uc3QgdGltZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZXInKVxyXG5cclxuY29uc3QgaW5wdXRPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtbW9uZXknKVxyXG5jb25zdCBpbnB1dFJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC1yZXN1bHQnKVxyXG5jb25zdCBjdXJyZW5jeUNob2ljZU9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWxlY3RPbmUnKVxyXG5jb25zdCBjdXJyZW5jeUNob2ljZVR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWxlY3RUd28nKVxyXG5cclxuY29uc3Qgc3dhcEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2FwLWJ0bicpXHJcbmNvbnN0IHN3YXBBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2FwLWFycm93JylcclxuY29uc3Qgc2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zYXZlLWJ0bicpXHJcbmNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHQnKVxyXG5jb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXJfX2Vycm9yLW1zZycpXHJcblxyXG5jb25zdCBoaXN0b3J5QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaXN0b3J5LWNvbnRhaW5lcl9fbm90ZXMtYXJlYScpXHJcbmNvbnN0IGVtcHR5RXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1wdHktZXJyb3InKVxyXG5jb25zdCBjbGVhckhpc3RvcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlzdG9yeS1jb250YWluZXJfX2NsZWFyLWFsbC1idG4nKVxyXG5cclxubGV0IGNhcmRJRCA9IDBcclxubGV0IGNhcmRBbW91bnQgPSAwXHJcbmxldCBjdXJyZW5jeTFcclxubGV0IGN1cnJlbmN5MlxyXG5sZXQgZGF0ZVxyXG5sZXQgaG91clxyXG5cclxubGV0IHNob3dcclxubGV0IGhpZGVcclxubGV0IGNoZWNrVmFsdWVzXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG4gICAgZXZlbnRzKClcclxuICAgIGNhbGN1bGF0ZSgpXHJcbn1cclxuXHJcbmNvbnN0IGV2ZW50cyA9ICgpID0+IHtcclxuICAgIGxvYWRlckxvYWRpbmcoKVxyXG4gICAgZGF0ZUNhbGN1bGF0aW5nKClcclxuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlucHV0T25lLnZhbHVlID09PSAnJyB8fCBpbnB1dE9uZS52YWx1ZSA9PT0gJzAnKSB7XHJcbiAgICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6ICcuY29udGFpbmVyX19lcnJvci1tc2cnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDYwLCBkdXJhdGlvbjogNjAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiAtMzAsIGR1cmF0aW9uOiA2MCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDAsIGR1cmF0aW9uOiA2MCB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlcnJvck1zZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgICAgIGVycm9yTXNnLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuICAgICAgICAgICAgY3JlYXRlRWxlbWVudCgpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlucHV0T25lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2FsY3VsYXRlKVxyXG4gICAgc3dhcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBzd2FwKClcclxuICAgICAgICBzd2FwQXJyb3cuY2xhc3NMaXN0LnRvZ2dsZSgnaWNvbi1yb3RhdGUnKVxyXG4gICAgfSlcclxuICAgIGN1cnJlbmN5Q2hvaWNlT25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICBjYWxjdWxhdGUoKVxyXG4gICAgICAgIGNoZWNrSWZUaGVTYW1lKClcclxuICAgICAgICBjaGVja1ZhbHVlcygpXHJcbiAgICB9KVxyXG4gICAgY3VycmVuY3lDaG9pY2VUd28uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGNhbGN1bGF0ZSgpXHJcbiAgICAgICAgY2hlY2tJZlRoZVNhbWUoKVxyXG4gICAgICAgIGNoZWNrVmFsdWVzKClcclxuICAgIH0pXHJcblxyXG4gICAgdGhlbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGVtZUNpcmNsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmstbW9kZS10cmFuc2Zvcm0nKSkge1xyXG4gICAgICAgICAgICB0aGVtZUNpcmNsZS5jbGFzc0xpc3QuYWRkKCdkYXJrLW1vZGUtdHJhbnNmb3JtJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGVtZUNpcmNsZS5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrLW1vZGUtdHJhbnNmb3JtJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpICE9PSAnbGlnaHQnKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0JylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsICdkYXJrJylcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgY2xlYXJIaXN0b3J5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGhpc3RvcnlBcmVhLnRleHRDb250ZW50ID0gJydcclxuICAgICAgICBjYXJkSUQgPSAwXHJcbiAgICAgICAgY2FyZEFtb3VudCA9IDBcclxuICAgICAgICBlbXB0eUNoZWNrZXIoKVxyXG4gICAgICAgIHNob3dDbGVhckJ0bigpXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCBjYWxjdWxhdGUgPSAoKSA9PiB7XHJcbiAgICBmZXRjaChgaHR0cHM6Ly9hcGkuZXhjaGFuZ2VyYXRlLmhvc3QvbGF0ZXN0P2Jhc2U9JHtjdXJyZW5jeUNob2ljZU9uZS52YWx1ZX0mc3ltYm9scz0ke2N1cnJlbmN5Q2hvaWNlVHdvLnZhbHVlfWApXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbmN5MSA9IGN1cnJlbmN5Q2hvaWNlT25lLnZhbHVlXHJcbiAgICAgICAgICAgIGN1cnJlbmN5MiA9IGN1cnJlbmN5Q2hvaWNlVHdvLnZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBkYXRhLnJhdGVzW2N1cnJlbmN5Ml1cclxuXHJcbiAgICAgICAgICAgIGlucHV0UmVzdWx0LnZhbHVlID0gKGlucHV0T25lLnZhbHVlICogcmF0ZSkudG9GaXhlZCgyKVxyXG4gICAgICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBoaXN0b3J5Tm90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBoaXN0b3J5Tm90ZS5jbGFzc0xpc3QuYWRkKCdoaXN0b3J5LWNvbnRhaW5lcl9fbm90ZXMtYXJlYS0tbm90ZScpXHJcbiAgICBoaXN0b3J5QXJlYS5hcHBlbmRDaGlsZChoaXN0b3J5Tm90ZSlcclxuICAgIGhpc3RvcnlOb3RlLnNldEF0dHJpYnV0ZSgnaWQnLCBjYXJkSUQpXHJcblxyXG4gICAgaGlzdG9yeU5vdGUuaW5uZXJIVE1MID0gYFxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cImRlbGV0ZS1ub3RlLWJ0blwiIG9uY2xpY2s9XCJkZWxldGVFbGVtZW50KCR7Y2FyZElEfSlcIj5cclxuICAgIDxpIGNsYXNzPVwidWlsIHVpbC10aW1lc1wiPjwvaT5cclxuICAgIDwvYnV0dG9uPlxyXG4gICAgPGRpdiBjbGFzcz1cImRhdGUtYm94XCI+XHJcbiAgICA8cCBjbGFzcz1cInRpdGxlXCI+RGF0ZTwvcD5cclxuICAgIDxwIGNsYXNzPVwibmF2X190aXRsZS1ib3gtLXRpbWVyIHRpbWVyXCI+JHtkYXRlfTwvcD5cclxuICAgIDxwIGNsYXNzPVwidGltZXJIb3Vyc1wiPmF0ICR7aG91cn08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxwIGNsYXNzPVwicmVzdWx0XCI+JHtpbnB1dE9uZS52YWx1ZX0gJHtjdXJyZW5jeTF9ID0gJHtpbnB1dFJlc3VsdC52YWx1ZX0gJHtjdXJyZW5jeTJ9PC9wPlxyXG4gICAgYFxyXG4gICAgY2FyZElEKytcclxuICAgIGNhcmRBbW91bnQrK1xyXG4gICAgZW1wdHlDaGVja2VyKClcclxuICAgIHNob3dDbGVhckJ0bigpXHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZClcclxuICAgIGhpc3RvcnlBcmVhLnJlbW92ZUNoaWxkKG5ld0VsZW1lbnQpXHJcblxyXG4gICAgaWYgKGNhcmRBbW91bnQgIT09IDApIHtcclxuICAgICAgICBjYXJkQW1vdW50LS1cclxuICAgICAgICBjYXJkSUQtLVxyXG4gICAgfVxyXG4gICAgZW1wdHlDaGVja2VyKClcclxuICAgIHNob3dDbGVhckJ0bigpXHJcbn1cclxuXHJcbmNvbnN0IGVtcHR5Q2hlY2tlciA9ICgpID0+IHtcclxuICAgIGlmIChjYXJkQW1vdW50ICE9PSAwKSB7XHJcbiAgICAgICAgZW1wdHlFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVtcHR5RXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2FkZXJMb2FkaW5nID0gKCkgPT4ge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBzd2FwID0gKCkgPT4ge1xyXG4gICAgbGV0IG9sZFZhbHVlID0gY3VycmVuY3lDaG9pY2VPbmUudmFsdWVcclxuICAgIGN1cnJlbmN5Q2hvaWNlT25lLnZhbHVlID0gY3VycmVuY3lDaG9pY2VUd28udmFsdWVcclxuICAgIGN1cnJlbmN5Q2hvaWNlVHdvLnZhbHVlID0gb2xkVmFsdWVcclxuICAgIGNhbGN1bGF0ZSgpXHJcbn1cclxuXHJcbmNvbnN0IGRhdGVDYWxjdWxhdGluZyA9ICgpID0+IHtcclxuICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKClcclxuICAgIGRhdGUgPSB0b2RheS5nZXREYXRlKCkgKyAnLicgKyAodG9kYXkuZ2V0TW9udGgoKSArIDEpICsgJy4nICsgdG9kYXkuZ2V0RnVsbFllYXIoKVxyXG4gICAgaG91ciA9IHRvZGF5LmdldEhvdXJzKCkgKyAnOicgKyAodG9kYXkuZ2V0TWludXRlcygpKVxyXG4gICAgdGltZXIudGV4dENvbnRlbnQgPSBkYXRlXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrSWZUaGVTYW1lID0gKCkgPT4ge1xyXG4gICAgc2hvdyA9ICgpID0+IHtcclxuICAgICAgICBzYXZlQnRuLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJ1xyXG4gICAgICAgIHNhdmVCdG4uc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgICAgIHN3YXBCdG4uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnXHJcbiAgICAgICAgc3dhcEJ0bi5zdHlsZS5vcGFjaXR5ID0gJzEnXHJcbiAgICB9XHJcbiAgICBoaWRlID0gKCkgPT4ge1xyXG4gICAgICAgIHNhdmVCdG4uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xyXG4gICAgICAgIHNhdmVCdG4uc3R5bGUub3BhY2l0eSA9ICcwLjUnXHJcbiAgICAgICAgc3dhcEJ0bi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXHJcbiAgICAgICAgc3dhcEJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVuY3lDaG9pY2VPbmUudmFsdWUgPT09IGN1cnJlbmN5Q2hvaWNlVHdvLnZhbHVlKSB7XHJcbiAgICAgICAgaGlkZSgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3coKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBzaG93Q2xlYXJCdG4gPSAoKSA9PiB7XHJcbiAgICBpZiAoY2FyZEFtb3VudCAhPT0gMCkge1xyXG4gICAgICAgIGNsZWFySGlzdG9yeUJ0bi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcbiAgICAgICAgY2xlYXJIaXN0b3J5QnRuLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xlYXJIaXN0b3J5QnRuLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG4gICAgICAgIGNsZWFySGlzdG9yeUJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAnXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5TY3JvbGxSZXZlYWwoe1xyXG4gICAgcmVzZXQ6IGZhbHNlLFxyXG4gICAgZGlzdGFuY2U6ICcxODBweCcsXHJcbiAgICBkdXJhdGlvbjogMTUwMFxyXG59KVxyXG5cclxuU2Nyb2xsUmV2ZWFsKCkucmV2ZWFsKCcuc2Nyb2xsLWJveDEnLCB7IGRlbGF5OiAxMTAwLCBvcmlnaW46ICdsZWZ0JyB9KVxyXG5TY3JvbGxSZXZlYWwoKS5yZXZlYWwoJy5uYXZfX3RpdGxlLWJveC0tbGluZScsIHsgZGVsYXk6IDEzMDAsIG9yaWdpbjogJ2xlZnQnIH0pXHJcblNjcm9sbFJldmVhbCgpLnJldmVhbCgnLnNjcm9sbC1ib3gyJywgeyBkZWxheTogMTYwMCwgb3JpZ2luOiAnbGVmdCcgfSlcclxuU2Nyb2xsUmV2ZWFsKCkucmV2ZWFsKCcubmF2X19vcHRpb25zJywgeyBkZWxheTogMTcwMCwgb3JpZ2luOiAnbGVmdCcgfSlcclxuU2Nyb2xsUmV2ZWFsKCkucmV2ZWFsKCcuY29udGFpbmVyJywgeyBkZWxheTogMTgwMCwgb3JpZ2luOiAnbGVmdCcgfSlcclxuU2Nyb2xsUmV2ZWFsKCkucmV2ZWFsKCcuaGlzdG9yeS1jb250YWluZXInLCB7IGRlbGF5OiAyMDAwLCBvcmlnaW46ICdsZWZ0JyB9KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pIl19
